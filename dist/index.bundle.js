(()=>{var t={798:function(t,e,o){t=o.nmd(t),function(o,r){"use strict";var n={};o.PubSub?(n=o.PubSub,console.warn("PubSub already loaded, using existing version")):(o.PubSub=n,function(t){var e={},o=-1,r="*";function n(t,e,o){try{t(e,o)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,o){t(e,o)}function c(t,o,r,c){var s,u=e[o],a=c?i:n;if(Object.prototype.hasOwnProperty.call(e,o))for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&a(u[s],t,r)}function s(t){var o=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,o)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[o]))}function u(t,e,o,n){var i=function(t,e,o){return function(){var n=String(t),i=n.lastIndexOf(".");for(c(t,t,e,o);-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),c(t,n,e,o);c(t,r,e,o)}}(t="symbol"==typeof t?t.toString():t,e,n);return!!function(t){for(var e=String(t),o=s(e)||s(r),n=e.lastIndexOf(".");!o&&-1!==n;)n=(e=e.substr(0,n)).lastIndexOf("."),o=s(e);return o}(t)&&(!0===o?i():setTimeout(i,0),!0)}t.publish=function(e,o){return u(e,o,!1,t.immediateExceptions)},t.publishSync=function(e,o){return u(e,o,!0,t.immediateExceptions)},t.subscribe=function(t,r){if("function"!=typeof r)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var n="uid_"+String(++o);return e[t][n]=r,n},t.subscribeAll=function(e){return t.subscribe(r,e)},t.subscribeOnce=function(e,o){var r=t.subscribe(e,(function(){t.unsubscribe(r),o.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var o;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&delete e[o]},t.countSubscriptions=function(t){var o,r,n=0;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)){for(r in e[o])n++;break}return n},t.getSubscriptions=function(t){var o,r=[];for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&r.push(o);return r},t.unsubscribe=function(o){var r,n,i,c="string"==typeof o&&(Object.prototype.hasOwnProperty.call(e,o)||function(t){var o;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t))return!0;return!1}(o)),s=!c&&"string"==typeof o,u="function"==typeof o,a=!1;if(!c){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(n=e[r],s&&n[o]){delete n[o],a=o;break}if(u)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&n[i]===o&&(delete n[i],a=!0)}return a}t.clearSubscriptions(o)}}(n)),void 0!==t&&t.exports&&(e=t.exports=n),e.PubSub=n,t.exports=e=n}("object"==typeof window&&window||this)}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=o(798),e=o.n(t);const r="local storage save",n="local storage load",i="todo add",c="todo edit",s="todo move",u="todo remove",a="todo update",p="project add",l="project edit",d="project move",b="project remove",f="project update",y="dom update",O=function(){function t(t,e){console.log(`Log Action (${t}): ${e}`)}return{init:function(){e().subscribe(r,t),e().subscribe(n,t),e().subscribe(i,t),e().subscribe(c,t),e().subscribe(s,t),e().subscribe(u,t),e().subscribe(a,t),e().subscribe(p,t),e().subscribe(l,t),e().subscribe(d,t),e().subscribe(b,t),e().subscribe(f,t),e().subscribe(y,t)}}}(),h=(t,e,o,r,n,i)=>{const c=t||"Untitled",s=e||"",u=o||"",a=r||"",p=n||!1,l=i||"",d=()=>c,b=t=>d()!=t&&(c=t,!0),f=()=>s,y=t=>f()!=t&&(s=t,!0),O=()=>u,h=t=>O()!=t&&(u=t,!0),g=()=>a,v=t=>g()!=t&&(a=t,!0),S=()=>p,m=t=>S()!=t&&(p=t,!0),j=()=>l,x=t=>j()!=t&&(l=t,!0);return{getTitle:d,getDescription:f,getDueDate:O,getPriority:g,getDone:S,getNote:j,update:(t,e,o,r,n,i)=>!![b(t),y(e),h(o),v(r),m(n),x(i)].some((t=>t)),toggleDone:()=>{p=!p},toJSON:()=>({title:d(),description:f(),dueDate:O(),priority:g(),done:S(),note:j()})}},g=(t,e)=>{const o=t||"Untitled",r=e||"",n=[],i=()=>o,c=t=>{o=t},s=()=>r,u=t=>{r=t};return{getTitle:i,getDescription:s,setTitle:c,setDescription:u,update:(t,e)=>{c(t),u(e)},addTodo:t=>{n.push(t)},toJSON:()=>({title:i(),description:s(),todos:n.map((t=>t.toJSON()))})}},v=function(){const t=[],o=()=>{localStorage.setItem("projects",JSON.stringify(t))},i=()=>{t.length=0;const o=JSON.parse(localStorage.getItem("projects"))||[];if(o.length)o.forEach((t=>{const e=g(t.title,t.description);c(e),t.todos.length&&t.todos.forEach((t=>{const o=h(t.title,t.description,t.dueDate,t.priority,t.done,t.note);e.addTodo(o)}))})),e().publish(y,"Load prior data");else{const t=g("Default","The default project");c(t),t.addTodo(h("1")),t.addTodo(h("2","yeet")),t.addTodo(h("3")),e().publish(y,"Init default data")}},c=e=>(t.push(e),e);return{init:function(){O.init(),e().subscribe(r,o),e().subscribe(n,i),i()},localStorageSave:o,localStorageLoad:i}}(),S=function(){const t=document.querySelector("body");return{init:function(){(()=>{const o=document.createElement("button");o.textContent="SAVE",o.addEventListener("click",(()=>e().publish(r))),t.appendChild(o)})(),(()=>{const o=document.createElement("button");o.textContent="LOAD",o.addEventListener("click",(()=>e().publish(n))),t.appendChild(o)})()}}}();v.init(),S.init()})()})();