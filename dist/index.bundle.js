(()=>{var t={798:function(t,e,o){t=o.nmd(t),function(o,n){"use strict";var r={};o.PubSub?(r=o.PubSub,console.warn("PubSub already loaded, using existing version")):(o.PubSub=r,function(t){var e={},o=-1,n="*";function r(t,e,o){try{t(e,o)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,o){t(e,o)}function c(t,o,n,c){var s,d=e[o],l=c?i:r;if(Object.prototype.hasOwnProperty.call(e,o))for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&l(d[s],t,n)}function s(t){var o=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,o)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[o]))}function d(t,e,o,r){var i=function(t,e,o){return function(){var r=String(t),i=r.lastIndexOf(".");for(c(t,t,e,o);-1!==i;)i=(r=r.substr(0,i)).lastIndexOf("."),c(t,r,e,o);c(t,n,e,o)}}(t="symbol"==typeof t?t.toString():t,e,r);return!!function(t){for(var e=String(t),o=s(e)||s(n),r=e.lastIndexOf(".");!o&&-1!==r;)r=(e=e.substr(0,r)).lastIndexOf("."),o=s(e);return o}(t)&&(!0===o?i():setTimeout(i,0),!0)}t.publish=function(e,o){return d(e,o,!1,t.immediateExceptions)},t.publishSync=function(e,o){return d(e,o,!0,t.immediateExceptions)},t.subscribe=function(t,n){if("function"!=typeof n)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var r="uid_"+String(++o);return e[t][r]=n,r},t.subscribeAll=function(e){return t.subscribe(n,e)},t.subscribeOnce=function(e,o){var n=t.subscribe(e,(function(){t.unsubscribe(n),o.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var o;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&delete e[o]},t.countSubscriptions=function(t){var o,n,r=0;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)){for(n in e[o])r++;break}return r},t.getSubscriptions=function(t){var o,n=[];for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t)&&n.push(o);return n},t.unsubscribe=function(o){var n,r,i,c="string"==typeof o&&(Object.prototype.hasOwnProperty.call(e,o)||function(t){var o;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&0===o.indexOf(t))return!0;return!1}(o)),s=!c&&"string"==typeof o,d="function"==typeof o,l=!1;if(!c){for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r=e[n],s&&r[o]){delete r[o],l=o;break}if(d)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i]===o&&(delete r[i],l=!0)}return l}t.clearSubscriptions(o)}}(r)),void 0!==t&&t.exports&&(e=t.exports=r),e.PubSub=r,t.exports=e=r}("object"==typeof window&&window||this)}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=o(798),e=o.n(t);const n="local storage save",r="local storage load",i="local storage reset",c="dom update list",s="dom update project",d="dom update todo",l="list select",u="todo toggle",a="project add",p="project edit",b="project move",f="project remove",m="todo add",h="todo edit",y="todo move",g="todo remove",O=()=>{const t=document.createElement("button");return t.textContent="SAVE",t.classList.add("local-storage-save"),t.addEventListener("click",(()=>e().publish(n))),t},v=()=>{const t=document.createElement("button");return t.textContent="LOAD",t.classList.add("local-storage-load"),t.addEventListener("click",(()=>e().publish(r))),t},E=()=>{const t=document.createElement("button");return t.textContent="RESET",t.classList.add("local-storage-reset"),t.addEventListener("click",(()=>e().publish(i))),t},j=function(){const t=[],o=(o,n)=>{const r=document.querySelector("#project-tabs-container"),i=n.length;let c=t.length;if(i>c)for(let o=c;o<i;o+=1){const n=document.createElement("button");r.appendChild(n),t.push(n),n.addEventListener("click",(()=>e().publish(l,o)))}c=t.length;for(let e=c-1;e>=0;e-=1)e>=i?t[e].style.display="none":(t[e].style.display="",t[e].textContent=n[e])};return{initList:()=>{e().subscribe(c,o);const t=document.createElement("div"),n=document.createElement("span");n.setAttribute("id","project-tabs-container");const r=document.createElement("span");r.setAttribute("id","project-add-container");const i=(()=>{const t=document.createElement("button");return t.textContent="+",t.addEventListener("click",(()=>e().publish(a,{title:prompt("Project Name","Untitled"),description:prompt("Project Description","test")}))),t})();return r.appendChild(i),t.appendChild(n),t.appendChild(r),t}}}(),S=function(){const t=(t,e)=>{const o=document.querySelector("#project-title"),n=document.querySelector("#project-description");o.textContent=e.title,n.textContent=e.description};return{initProject:()=>{e().subscribe(s,t);const o=document.createElement("div");o.setAttribute("id","project-container");const n=document.createElement("h1");n.setAttribute("id","project-title"),o.appendChild(n);const r=document.createElement("p");return r.setAttribute("id","project-description"),o.appendChild(r),o}}}(),x=function(){const t=[],o=t=>{const o=document.createElement("div");o.classList.add("todo-card");const n=document.createElement("button");n.classList.add("done"),n.addEventListener("click",(()=>e().publish(u,{index:t}))),o.appendChild(n);const r=document.createElement("div");return r.classList.add("info"),o.appendChild(r),o},n=(t,e)=>{t.querySelector(".done").textContent=e.done?"DONE":"NOT DONE",t.querySelector(".info").textContent=`${e.title}-${e.description}`},r=(e,r)=>{const i=document.querySelector("#todo-cards-container"),c=r.length;let s=t.length;if(c>s)for(let e=s;e<c;e+=1){const n=o(e);i.appendChild(n),t.push(n)}s=t.length;for(let e=s-1;e>=0;e-=1)e>=c?t[e].style.display="none":(t[e].style.display="",n(t[e],r[e]))};return{initTodo:()=>{e().subscribe(d,r);const t=document.createElement("div"),o=document.createElement("div");o.setAttribute("id","todo-cards-container");const n=document.createElement("div");n.setAttribute("id","todo-add-container");const i=(()=>{const t=document.createElement("button");return t.textContent="Add Todo",t.addEventListener("click",(()=>e().publish(m,{title:prompt("Todo Title","Test"),description:prompt("Todo Description","")}))),t})();return n.appendChild(i),t.appendChild(o),t.appendChild(n),t}}}(),T=(function(){const t=document.querySelector("body");!function(){const o=O();t.appendChild(o);const n=v();t.appendChild(n);const r=E();t.appendChild(r);const i=(()=>{const t=document.createElement("button");return t.textContent="Edit Todo",t.addEventListener("click",(()=>e().publish(h,{title:"Try to edit this",description:"hit index 1",index:1}))),t})();t.appendChild(i);const c=j.initList();t.appendChild(c);const s=S.initProject();t.appendChild(s);const d=x.initTodo();t.appendChild(d)}()}(),function(){function t(t,e){console.log(`Log Action (${t}): ${e}`)}e().subscribe(n,t),e().subscribe(r,t),e().subscribe(i,t),e().subscribe(c,t),e().subscribe(s,t),e().subscribe(d,t),e().subscribe(l,t),e().subscribe(u,t),e().subscribe(a,t),e().subscribe(p,t),e().subscribe(b,t),e().subscribe(f,t),e().subscribe(m,t),e().subscribe(h,t),e().subscribe(y,t),e().subscribe(g,t)}(),(t,e,o,n,r,i)=>{let c=t||"Untitled",s=e||"",d=o||"",l=n||"",u=r||!1,a=i||"";const p=()=>c,b=t=>c!=t&&null!=t&&(c=t,!0),f=()=>s,m=t=>s!=t&&null!=t&&(s=t,!0),h=()=>d,y=t=>d!=t&&null!=t&&(d=t,!0),g=()=>l,O=t=>l!=t&&null!=t&&(l=t,!0),v=()=>u,E=t=>u!=t&&null!=t&&(u=t,!0),j=()=>a,S=t=>a!=t&&null!=t&&(a=t,!0);return{getTitle:p,getDescription:f,getDueDate:h,getPriority:g,getDone:v,getNote:j,update:(t,e,o,n,r,i)=>[b(t),m(e),y(o),O(n),E(r),S(i)].some((t=>t)),toggleDone:()=>(u=!u,!0),toJSON:()=>({title:p(),description:f(),dueDate:h(),priority:g(),done:v(),note:j()})}}),C=(t,e)=>{let o=t||"Untitled",n=e||"";const r=[],i=()=>o,c=t=>o!=t&&null!=t&&(o=t,!0),s=()=>n,d=t=>n!=t&&null!=t&&(n=t,!0),l=()=>r.map((t=>t.toJSON()));return{getTitle:i,getDescription:s,setTitle:c,setDescription:d,update:(t,e)=>[c(t),d(e)].some((t=>t)),addTodo:t=>{r.push(t)},editTodo:(t,e,o,n,i,c,s)=>r[t].update(e,o,n,i,c,s),toggleTodo:t=>r[t].toggleDone(),getTodosJSON:l,toJSON:()=>({title:i(),description:s(),todos:l()})}};!function(){const t=[];let o=0;const b=()=>{o=0,t.length=0;const e=JSON.parse(localStorage.getItem("projects"))||[];if(e.length)e.forEach((t=>{const e=C(t.title,t.description);f(e),t.todos.length&&t.todos.forEach((t=>{const o=T(t.title,t.description,t.dueDate,t.priority,t.done,t.note);e.addTodo(o)}))})),g();else{const t=C("Default","The default project");f(t),t.addTodo(T("1")),t.addTodo(T("2","yeet")),t.addTodo(T("3")),g()}},f=e=>t.push(e),y=(t,e)=>{o=e,O()},g=()=>{e().publish(c,t.map((t=>t.getTitle()))),O()},O=()=>{e().publish(s,(()=>{const e=t[o];return{title:e.getTitle(),description:e.getDescription()}})()),v()},v=()=>{e().publish(d,t[o].getTodosJSON())};e().subscribe(n,(()=>{localStorage.setItem("projects",JSON.stringify(t))})),e().subscribe(r,b),e().subscribe(i,(()=>{confirm("This will clear local storage. Are you sure?")&&(localStorage.removeItem("projects"),b())})),e().subscribe(l,y),e().subscribe(u,((e,n)=>{t[o].toggleTodo(n.index)&&v()})),e().subscribe(a,((t,e)=>{const o=C(e.title,e.description),n=f(o);g(),y(null,n-1)})),e().subscribe(p,((e,n)=>{t[o].update(n.title,n.description)&&g()})),e().subscribe(m,((e,n)=>{const r=T(n.title,n.description,n.dueDate,n.priority,n.done,n.note);t[o].addTodo(r),v()})),e().subscribe(h,((e,n)=>{t[o].editTodo(n.index,n.title,n.description,n.dueDate,n.priority,n.done,n.note)&&v()})),b()}()})()})();