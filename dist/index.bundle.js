(()=>{var t={798:function(t,e,n){t=n.nmd(t),function(n,o){"use strict";var r={};n.PubSub?(r=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=r,function(t){var e={},n=-1,o="*";function r(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,n){t(e,n)}function c(t,n,o,c){var s,u=e[n],d=c?i:r;if(Object.prototype.hasOwnProperty.call(e,n))for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&d(u[s],t,o)}function s(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[n]))}function u(t,e,n,r){var i=function(t,e,n){return function(){var r=String(t),i=r.lastIndexOf(".");for(c(t,t,e,n);-1!==i;)i=(r=r.substr(0,i)).lastIndexOf("."),c(t,r,e,n);c(t,o,e,n)}}(t="symbol"==typeof t?t.toString():t,e,r);return!!function(t){for(var e=String(t),n=s(e)||s(o),r=e.lastIndexOf(".");!n&&-1!==r;)r=(e=e.substr(0,r)).lastIndexOf("."),n=s(e);return n}(t)&&(!0===n?i():setTimeout(i,0),!0)}t.publish=function(e,n){return u(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return u(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,o){if("function"!=typeof o)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var r="uid_"+String(++n);return e[t][r]=o,r},t.subscribeAll=function(e){return t.subscribe(o,e)},t.subscribeOnce=function(e,n){var o=t.subscribe(e,(function(){t.unsubscribe(o),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,o,r=0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)){for(o in e[n])r++;break}return r},t.getSubscriptions=function(t){var n,o=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&o.push(n);return o},t.unsubscribe=function(n){var o,r,i,c="string"==typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1}(n)),s=!c&&"string"==typeof n,u="function"==typeof n,d=!1;if(!c){for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(r=e[o],s&&r[n]){delete r[n],d=n;break}if(u)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i]===n&&(delete r[i],d=!0)}return d}t.clearSubscriptions(n)}}(r)),void 0!==t&&t.exports&&(e=t.exports=r),e.PubSub=r,t.exports=e=r}("object"==typeof window&&window||this)}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=n(798),e=n.n(t);const o="local storage save",r="local storage load",i="dom update list",c="dom update project",s="dom update todo",u="list select",d="project add",a="project edit",l="project move",p="project remove",b="todo add",f="todo edit",h="todo move",y="todo remove",m=function(){function t(t,e){console.log(`Log Action (${t}): ${e}`)}return{init:function(){e().subscribe(o,t),e().subscribe(r,t),e().subscribe(i,t),e().subscribe(c,t),e().subscribe(s,t),e().subscribe(u,t),e().subscribe(d,t),e().subscribe(a,t),e().subscribe(l,t),e().subscribe(p,t),e().subscribe(b,t),e().subscribe(f,t),e().subscribe(h,t),e().subscribe(y,t)}}}(),O=(t,e,n,o,r,i)=>{const c=t||"Untitled",s=e||"",u=n||"",d=o||"",a=r||!1,l=i||"",p=()=>c,b=t=>p()!=t&&(c=t,!0),f=()=>s,h=t=>f()!=t&&(s=t,!0),y=()=>u,m=t=>y()!=t&&(u=t,!0),O=()=>d,g=t=>O()!=t&&(d=t,!0),v=()=>a,j=t=>v()!=t&&(a=t,!0),S=()=>l,x=t=>S()!=t&&(l=t,!0);return{getTitle:p,getDescription:f,getDueDate:y,getPriority:O,getDone:v,getNote:S,update:(t,e,n,o,r,i)=>!![b(t),h(e),m(n),g(o),j(r),x(i)].some((t=>t)),toggleDone:()=>{a=!a},toJSON:()=>({title:p(),description:f(),dueDate:y(),priority:O(),done:v(),note:S()})}},g=(t,e)=>{const n=t||"Untitled",o=e||"",r=[],i=()=>n,c=t=>{n=t},s=()=>o,u=t=>{o=t};return{getTitle:i,getDescription:s,setTitle:c,setDescription:u,update:(t,e)=>{c(t),u(e)},addTodo:t=>{r.push(t)},toJSON:()=>({title:i(),description:s(),todos:r.map((t=>t.toJSON()))})}},v=function(){const t=[];let n=0;const s=()=>{localStorage.setItem("projects",JSON.stringify(t))},a=()=>{n=0,t.length=0;const e=JSON.parse(localStorage.getItem("projects"))||[];if(e.length)e.forEach((t=>{const e=g(t.title,t.description);l(e),t.todos.length&&t.todos.forEach((t=>{const n=O(t.title,t.description,t.dueDate,t.priority,t.done,t.note);e.addTodo(n)}))})),f();else{const t=g("Default","The default project");l(t),t.addTodo(O("1")),t.addTodo(O("2","yeet")),t.addTodo(O("3")),f()}},l=e=>(t.push(e),e),p=(t,e)=>{const n=g(e.title,e.description);l(n),f()},b=(t,e)=>{n=e,h()},f=()=>{e().publish(i,t.map((t=>t.getTitle()))),h()},h=()=>{e().publish(c,(()=>{const e=t[n];return{title:e.getTitle(),description:e.getDescription()}})())};return{init:function(){m.init(),e().subscribe(o,s),e().subscribe(r,a),e().subscribe(u,b),e().subscribe(d,p),a()},localStorageSave:s,localStorageLoad:a}}(),j=function(){const t=[],n=(n,o)=>{const r=document.querySelector("#project-tabs-container"),i=o.length;let c=t.length;if(i>c)for(let n=c;n<i;n+=1){const o=document.createElement("button");r.appendChild(o),t.push(o),o.addEventListener("click",(()=>e().publish(u,n)))}c=t.length;for(let e=c-1;e>=0;e-=1)e>=i?(t.pop(),r.lastChild.remove()):t[e].textContent=o[e]};return{addList:()=>{e().subscribe(i,n);const t=document.createElement("div");return t.setAttribute("id","project-tabs-container"),t}}}(),S=function(){const t=(t,e)=>{const n=document.querySelector("#project-title"),o=document.querySelector("#project-description");n.textContent=e.title,o.textContent=e.description};return{addProject:()=>{e().subscribe(c,t);const n=document.createElement("div");n.setAttribute("id","project-container");const o=document.createElement("h1");o.setAttribute("id","project-title"),n.appendChild(o);const r=document.createElement("p");return r.setAttribute("id","project-description"),n.appendChild(r),n}}}();(function(){const t=document.querySelector("body");return{init:function(){const n=(()=>{const t=document.createElement("button");return t.textContent="SAVE",t.addEventListener("click",(()=>e().publish(o))),t})();t.appendChild(n);const i=(()=>{const t=document.createElement("button");return t.textContent="LOAD",t.addEventListener("click",(()=>e().publish(r))),t})();t.appendChild(i);const c=(()=>{const t=document.createElement("button");return t.textContent="Add Project",t.addEventListener("click",(()=>e().publish(d,{title:"Test PABtn",description:"la de da"}))),t})();t.appendChild(c);const s=j.addList();t.appendChild(s);const u=S.addProject();t.appendChild(u)}}})().init(),v.init()})()})();