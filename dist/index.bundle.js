(()=>{var t={402:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(81),r=n.n(o),i=n(645),c=n.n(i)()(r());c.push([t.id,'html {\n    font-size: 16px;\n}\n\nbody {\n    margin: 0px;\n    height: 100vh;\n    width: 100vw;\n    \n    display: grid;\n    grid: \n        "storage project" 10rem\n        "list todo" 1fr\n        / 15rem 1fr;\n}\n\n#storage-container {\n    grid-area: storage;\n}\n\n#list-container {\n    grid-area: list;\n}\n\n.project-tab {\n    display: flex;\n}\n\n.project-tab-select {\n    flex: auto;\n}\n\n#project-container {\n    grid-area: project;\n}\n\n#todo-container {\n    grid-area: todo;\n}\n\n.todo-card {\n    display: grid;\n    grid:\n        "done info edit remove" 3rem\n        / 3rem 11rem 3rem 3rem;\n}\n\n.todo-card .done {\n    grid-area: done;\n}\n\n.todo-card .info {\n    grid-area: info;\n    padding: 0.5rem;\n}\n\n.todo-card .info .title {\n    font-size: 1rem;\n}\n\n.todo-card .info .description {\n    font-size: 0.75rem;\n}\n\n.todo-card .edit {\n    grid-area: edit;\n}\n\n.todo-card .remove {\n    grid-area: remove;\n}',""]);const s=c},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var c={};if(o)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(c[d]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);o&&c[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},798:function(t,e,n){t=n.nmd(t),function(n,o){"use strict";var r={};n.PubSub?(r=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=r,function(t){var e={},n=-1,o="*";function r(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,n){t(e,n)}function c(t,n,o,c){var s,d=e[n],a=c?i:r;if(Object.prototype.hasOwnProperty.call(e,n))for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&a(d[s],t,o)}function s(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[n]))}function d(t,e,n,r){var i=function(t,e,n){return function(){var r=String(t),i=r.lastIndexOf(".");for(c(t,t,e,n);-1!==i;)i=(r=r.substr(0,i)).lastIndexOf("."),c(t,r,e,n);c(t,o,e,n)}}(t="symbol"==typeof t?t.toString():t,e,r);return!!function(t){for(var e=String(t),n=s(e)||s(o),r=e.lastIndexOf(".");!n&&-1!==r;)r=(e=e.substr(0,r)).lastIndexOf("."),n=s(e);return n}(t)&&(!0===n?i():setTimeout(i,0),!0)}t.publish=function(e,n){return d(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return d(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,o){if("function"!=typeof o)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var r="uid_"+String(++n);return e[t][r]=o,r},t.subscribeAll=function(e){return t.subscribe(o,e)},t.subscribeOnce=function(e,n){var o=t.subscribe(e,(function(){t.unsubscribe(o),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,o,r=0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)){for(o in e[n])r++;break}return r},t.getSubscriptions=function(t){var n,o=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&o.push(n);return o},t.unsubscribe=function(n){var o,r,i,c="string"==typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1}(n)),s=!c&&"string"==typeof n,d="function"==typeof n,a=!1;if(!c){for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(r=e[o],s&&r[n]){delete r[n],a=n;break}if(d)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i]===n&&(delete r[i],a=!0)}return a}t.clearSubscriptions(n)}}(r)),void 0!==t&&t.exports&&(e=t.exports=r),e.PubSub=r,t.exports=e=r}("object"==typeof window&&window||this)},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},c=[],s=0;s<t.length;s++){var d=t[s],a=o.base?d[0]+o.base:d[0],l=i[a]||0,u="".concat(a," ").concat(l);i[a]=l+1;var p=n(u),b={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)e[p].references++,e[p].updater(b);else{var f=r(b,o);o.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}c.push(u)}return c}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var c=0;c<i.length;c++){var s=n(i[c]);e[s].references--}for(var d=o(t,r),a=0;a<i.length;a++){var l=n(i[a]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=d}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.nc=void 0,(()=>{"use strict";var t=n(798),e=n.n(t);const o="local storage save",r="local storage load",i="local storage reset",c="dom update list",s="dom update project",d="dom update todo",l="list select",u="todo toggle",p="project add",b="project edit",f="project move",m="project remove",h="todo add",v="todo edit",y="todo move",g="todo remove";var x=n(379),E=n.n(x),C=n(795),j=n.n(C),O=n(569),S=n.n(O),T=n(565),L=n.n(T),w=n(216),A=n.n(w),P=n(589),k=n.n(P),D=n(402),N={};N.styleTagTransform=k(),N.setAttributes=L(),N.insert=S().bind(null,"head"),N.domAPI=j(),N.insertStyleElement=A(),E()(D.Z,N),D.Z&&D.Z.locals&&D.Z.locals;const I=()=>{const t=document.createElement("button");return t.textContent="SAVE",t.classList.add("local-storage-save"),t.addEventListener("click",(()=>e().publish(o))),t},q=()=>{const t=document.createElement("button");return t.textContent="LOAD",t.classList.add("local-storage-load"),t.addEventListener("click",(()=>e().publish(r))),t},M=()=>{const t=document.createElement("button");return t.textContent="RESET",t.classList.add("local-storage-reset"),t.addEventListener("click",(()=>e().publish(i))),t},J=function(){const t=[],n=(n,o)=>{const r=document.querySelector("#project-tabs-container"),i=o.length;let c=t.length;if(i>c)for(let n=c;n<i;n+=1){const o=document.createElement("div"),i=document.createElement("button"),c=document.createElement("button"),s=document.createElement("button");o.classList.add("project-tab"),i.classList.add("project-tab-select"),i.classList.add("project-tab-edit"),s.classList.add("project-tab-remove"),c.textContent="e",s.textContent="x",i.addEventListener("click",(()=>e().publish(l,n))),c.addEventListener("click",(()=>e().publish(b,{title:prompt("title"),description:prompt("description"),index:n}))),s.addEventListener("click",(()=>e().publish(m,n))),o.appendChild(i),o.appendChild(c),o.appendChild(s),r.appendChild(o),t.push(o)}c=t.length;for(let e=c-1;e>=0;e-=1)e>=i?t[e].style.display="none":(t[e].style.display="",t[e].querySelector(".project-tab-select").textContent=o[e])};return{initList:()=>{e().subscribe(c,n);const t=document.createElement("div");t.setAttribute("id","list-container");const o=document.createElement("div");o.setAttribute("id","project-tabs-container");const r=document.createElement("div");r.setAttribute("id","project-add-container");const i=(()=>{const t=document.createElement("button");return t.textContent="+",t.addEventListener("click",(()=>d())),t.style.display="block",t})(),s=(()=>{const t=document.createElement("form");t.id="project-form",t.action="",t.method="get";const n=document.createElement("input");n.type="text",n.name="title",n.id="project-form-title",n.required=!0,n.placeholder="Project Name";const o=document.createElement("input");o.type="text",o.name="desc",o.id="project-form-desc",o.placeholder="Project Description";const r=document.createElement("button");r.textContent="Cancel",r.type="button",r.addEventListener("click",(()=>d()));const i=document.createElement("button");return i.textContent="Submit",t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(i),t.style.display="none",t.addEventListener("submit",(function(t){t.preventDefault(),e().publish(p,{title:n.value,description:o.value}),d()})),t})(),d=()=>{i.style.display="block"===i.style.display?"none":"block",s.style.display="block"===s.style.display?"none":"block",s.reset()};return r.appendChild(i),r.appendChild(s),t.appendChild(o),t.appendChild(r),t}}}(),B=function(){const t=(t,e)=>{const n=document.querySelector("#project-title"),o=document.querySelector("#project-description");n.textContent=e.title,o.textContent=e.description};return{initProject:()=>{e().subscribe(s,t);const n=document.createElement("div");n.setAttribute("id","project-container");const o=document.createElement("h1");o.setAttribute("id","project-title"),n.appendChild(o);const r=document.createElement("p");r.setAttribute("id","project-description"),n.appendChild(r);const i=document.createElement("button");return i.setAttribute("id","project-remove"),i.textContent="REMOVE",i.addEventListener("click",(()=>e().publish(m))),n.appendChild(i),n}}}(),Z=function(){const t=[],n=t=>{const n=document.createElement("div");n.classList.add("todo-card");const o=document.createElement("button");o.classList.add("done"),o.addEventListener("click",(()=>e().publish(u,t))),n.appendChild(o);const r=document.createElement("div");r.classList.add("info"),n.appendChild(r);const i=document.createElement("div");i.classList.add("title"),r.appendChild(i);const c=document.createElement("div");c.classList.add("description"),r.appendChild(c);const s=document.createElement("button");s.classList.add("edit"),s.textContent="Edit",s.addEventListener("click",(()=>e().publish(v,{title:prompt("New Title"),description:prompt("New Description"),index:t}))),n.appendChild(s);const d=document.createElement("button");return d.classList.add("remove"),d.textContent="X",d.addEventListener("click",(()=>e().publish(g,t))),n.appendChild(d),n},o=(t,e)=>{t.querySelector(".done").textContent=e.done?"Y":"N",t.querySelector(".title").textContent=`${e.title}`,t.querySelector(".description").textContent=`${e.description}`},r=(e,r)=>{const i=document.querySelector("#todo-cards-container"),c=r.length;let s=t.length;if(c>s)for(let e=s;e<c;e+=1){const o=n(e);i.appendChild(o),t.push(o)}s=t.length;for(let e=s-1;e>=0;e-=1)e>=c?t[e].style.display="none":(t[e].style.display="",o(t[e],r[e]))};return{initTodo:()=>{e().subscribe(d,r);const t=document.createElement("div");t.setAttribute("id","todo-container");const n=document.createElement("div");n.setAttribute("id","todo-cards-container");const o=document.createElement("div");o.setAttribute("id","todo-add-container");const i=(()=>{const t=document.createElement("button");return t.textContent="Add Todo",t.addEventListener("click",(()=>e().publish(h,{title:prompt("Todo Title","Test"),description:prompt("Todo Description","")}))),t})();return o.appendChild(i),t.appendChild(n),t.appendChild(o),t}}}(),R=(function(){const t=document.querySelector("body");!function(){const e=document.createElement("div");e.setAttribute("id","storage-container"),t.appendChild(e);const n=I();e.appendChild(n);const o=q();e.appendChild(o);const r=M();e.appendChild(r);const i=J.initList();t.appendChild(i);const c=B.initProject();t.appendChild(c);const s=Z.initTodo();t.appendChild(s)}()}(),function(){function t(t,e){console.log(`Log Action (${t}): ${e}`)}e().subscribe(o,t),e().subscribe(r,t),e().subscribe(i,t),e().subscribe(c,t),e().subscribe(s,t),e().subscribe(d,t),e().subscribe(l,t),e().subscribe(u,t),e().subscribe(p,t),e().subscribe(b,t),e().subscribe(f,t),e().subscribe(m,t),e().subscribe(h,t),e().subscribe(v,t),e().subscribe(y,t),e().subscribe(g,t)}(),(t,e,n,o,r,i)=>{let c=t||"Untitled",s=e||"",d=n||"",a=o||"",l=r||!1,u=i||"";const p=()=>c,b=t=>c!=t&&null!=t&&(c=t,!0),f=()=>s,m=t=>s!=t&&null!=t&&(s=t,!0),h=()=>d,v=t=>d!=t&&null!=t&&(d=t,!0),y=()=>a,g=t=>a!=t&&null!=t&&(a=t,!0),x=()=>l,E=t=>l!=t&&null!=t&&(l=t,!0),C=()=>u,j=t=>u!=t&&null!=t&&(u=t,!0);return{getTitle:p,getDescription:f,getDueDate:h,getPriority:y,getDone:x,getNote:C,update:(t,e,n,o,r,i)=>[b(t),m(e),v(n),g(o),E(r),j(i)].some((t=>t)),toggleDone:()=>(l=!l,!0),toJSON:()=>({title:p(),description:f(),dueDate:h(),priority:y(),done:x(),note:C()})}}),U=(t,e)=>{let n=t||"Untitled",o=e||"";const r=[],i=()=>n,c=t=>n!=t&&null!=t&&(n=t,!0),s=()=>o,d=t=>o!=t&&null!=t&&(o=t,!0),l=()=>r.map((t=>t.toJSON()));return{getTitle:i,getDescription:s,setTitle:c,setDescription:d,update:(t,e)=>[c(t),d(e)].some((t=>t)),addTodo:t=>{r.push(t)},editTodo:(t,e,n,o,i,c,s)=>r[t].update(e,n,o,i,c,s),toggleTodo:t=>r[t].toggleDone(),removeTodo:t=>{r.splice(t,1)},moveTodo:(t,e)=>{const n=r[a];t<e?(r.splice(e,0,n),r.splice(t,1)):(r.splice(t,1),r.splice(e,0,n))},getTodosJSON:l,toJSON:()=>({title:i(),description:s(),todos:l()})}};!function(){const t=[];let n=0;const a=e=>t.push(e),x=()=>{n=0,t.length=0;const e=JSON.parse(localStorage.getItem("projects"))||[];if(e.length)e.forEach((t=>{const e=U(t.title,t.description);a(e),t.todos.length&&t.todos.forEach((t=>{const n=R(t.title,t.description,t.dueDate,t.priority,t.done,t.note);e.addTodo(n)}))})),C();else{const t=U("Default","The default project");a(t),t.addTodo(R("1")),t.addTodo(R("2","yeet")),t.addTodo(R("3")),C()}},E=(t,e)=>{n=e,j()},C=()=>{e().publish(c,t.map((t=>t.getTitle()))),j()},j=()=>{e().publish(s,(()=>{const e=t[n];return{title:e.getTitle(),description:e.getDescription()}})()),O()},O=()=>{e().publish(d,t[n].getTodosJSON())};e().subscribe(o,(()=>{localStorage.setItem("projects",JSON.stringify(t))})),e().subscribe(r,x),e().subscribe(i,(()=>{confirm("This will clear local storage. Are you sure?")&&(localStorage.removeItem("projects"),x())})),e().subscribe(l,E),e().subscribe(u,((e,o)=>{t[n].toggleTodo(o)&&O()})),e().subscribe(p,((t,e)=>{const n=U(e.title,e.description),o=a(n);C(),E(0,o-1)})),e().subscribe(b,((e,o)=>{t[o.index].update(o.title,o.description)&&(n=o.index,C())})),e().subscribe(f,((e,n)=>{const o=t[n.indexA];n.indexA<n.indexB?(t.splice(n.indexB,0,o),t.splice(n.indexA,1)):(t.splice(n.indexA,1),t.splice(n.indexB,0,o))})),e().subscribe(m,((e,o=n)=>{t.length>1&&o<t.length&&(t.splice(o,1),n-=o<=n?1:0,C())})),e().subscribe(h,((e,o)=>{const r=R(o.title,o.description,o.dueDate,o.priority,o.done,o.note);t[n].addTodo(r),O()})),e().subscribe(v,((e,o)=>{t[n].editTodo(o.index,o.title,o.description,o.dueDate,o.priority,o.done,o.note)&&O()})),e().subscribe(y,((e,o)=>{t[n].moveTodo(o.indexA,o.indexB)})),e().subscribe(g,((e,o)=>{t[n].removeTodo(o),O()})),x()}()})()})();